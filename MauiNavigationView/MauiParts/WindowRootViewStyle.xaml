<ResourceDictionary
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:maui="using:Microsoft.Maui.Platform">

    <maui:AppTitleBarDataTemplateSelector x:Key="MauiAppTitleBarTemplateSelector"/>
    
    <DataTemplate x:Key="MauiAppTitleBarTemplateDefault">
        <Border
            Canvas.ZIndex="1" 
            VerticalAlignment="Stretch"
            Margin="0,0,0,0">
            <StackPanel Orientation="Horizontal" Margin="12, 0, 0, 0" x:Name="RootStackPanel">
                <Image 
                    x:Name="AppFontIcon"
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Center"
                    Source="Square44x44Logo.png" 
                    Width="16" 
                    Height="16"/>
                <TextBlock 
                    x:Name="AppTitle"
                    VerticalAlignment="Center"
                    Style="{StaticResource CaptionTextBlockStyle}" />
            </StackPanel>
        </Border>
    </DataTemplate>
    
    <Style TargetType="maui:WindowRootView">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="maui:WindowRootView">
                    <Page Margin="0" Padding="0" x:Name="RootPage">
                        <Page.Resources>

                            <!-- 
                            This is the margin around the NavigationView.Header. By default WinUI will set a 
                            margin on the left when the backbutton appears, but our backbutton is in the
                            AppTitle so we don't need/want the title to offset
                            -->

                            <Thickness x:Key="NavigationViewMinimalHeaderMargin">0,0,0,0</Thickness>
                            <Thickness x:Key="NavigationViewHeaderMargin">0,0,0,0</Thickness>

                            <!-- This removes a one pixel spacing between the AppBarTitle and the NavigationViews top edge -->
                            <Thickness x:Key="NavigationViewMinimalContentGridBorderThickness">0,0,0,0</Thickness>

                            <!-- This removes a one pixel spacing between the AppBarTitle and the NavigationViews top edge -->
                            <Thickness x:Key="TopNavigationViewTopNavGridMargin">4,0,0,0</Thickness>

                        </Page.Resources>
                        <Grid x:Name="RootGrid" RowSpacing="0" ColumnSpacing="0" Margin="0" Padding="0">
                            <ContentControl 
                                IsTabStop="False"
                                VerticalAlignment="Top"
                                VerticalContentAlignment="Stretch"
                                Canvas.ZIndex="1" 
                                Margin="0,0,0,0"
                                ContentTemplateSelector="{StaticResource MauiAppTitleBarTemplateSelector}"
                                x:Name="AppTitleBarContentControl">
                            </ContentControl>
                            <ContentPresenter Canvas.ZIndex="0"></ContentPresenter>
                        </Grid>
                    </Page>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary> 